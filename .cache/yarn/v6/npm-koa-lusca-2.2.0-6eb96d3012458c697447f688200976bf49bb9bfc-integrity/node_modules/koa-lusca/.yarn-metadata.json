{
  "manifest": {
    "name": "koa-lusca",
    "version": "2.2.0",
    "description": "Web application security middleware for koa.",
    "main": "index.js",
    "files": [
      "index.js",
      "lib/"
    ],
    "scripts": {
      "test": "mocha --harmony -t 5000 test/*.js",
      "test-cov": "node --harmony node_modules/.bin/istanbul cover node_modules/.bin/_mocha -- -t 5000 test/*.js",
      "test-travis": "node --harmony node_modules/.bin/istanbul cover node_modules/.bin/_mocha --report lcovonly -- -t 5000 test/*.js",
      "jshint": "jshint lib/ test/ index.js",
      "autod": "autod -w --prefix '~'",
      "cnpm": "npm install --registry=https://registry.npm.taobao.org",
      "contributors": "contributors -f plain -o AUTHORS"
    },
    "homepage": "https://github.com/koajs/koa-lusca",
    "repository": {
      "type": "git",
      "url": "https://github.com/koajs/koa-lusca.git"
    },
    "author": {
      "name": "fengmk2",
      "email": "m@fengmk2.com"
    },
    "licenses": "MIT",
    "engines": {
      "node": ">=0.11.x"
    },
    "engineStrict": true,
    "dependencies": {
      "koa-compose": "~2.3.0"
    },
    "devDependencies": {
      "autod": "*",
      "contributors": "*",
      "data-driven": "~1.1.0",
      "istanbul-harmony": "*",
      "jshint": "*",
      "koa": "~0.17.0",
      "koa-middlewares": "~2.1.0",
      "koa-router": "~4.0.1",
      "mocha": "*",
      "pedding": "~1.0.0",
      "supertest": "~0.15.0"
    },
    "_registry": "npm",
    "_loc": "/home/ubuntu/.cache/yarn/v6/npm-koa-lusca-2.2.0-6eb96d3012458c697447f688200976bf49bb9bfc-integrity/node_modules/koa-lusca/package.json",
    "readmeFilename": "README.md",
    "readme": "# koa-lusca\n\n[![NPM version][npm-image]][npm-url]\n[![build status][travis-image]][travis-url]\n[![Test coverage][coveralls-image]][coveralls-url]\n[![Gittip][gittip-image]][gittip-url]\n[![David deps][david-image]][david-url]\n[![npm download][download-image]][download-url]\n\n[npm-image]: https://img.shields.io/npm/v/koa-lusca.svg?style=flat-square\n[npm-url]: https://npmjs.org/package/koa-lusca\n[travis-image]: https://img.shields.io/travis/koajs/koa-lusca.svg?style=flat-square\n[travis-url]: https://travis-ci.org/koajs/koa-lusca\n[coveralls-image]: https://img.shields.io/coveralls/koajs/koa-lusca.svg?style=flat-square\n[coveralls-url]: https://coveralls.io/r/koajs/koa-lusca?branch=master\n[gittip-image]: https://img.shields.io/gittip/fengmk2.svg?style=flat-square\n[gittip-url]: https://www.gittip.com/fengmk2/\n[david-image]: https://img.shields.io/david/koajs/koa-lusca.svg?style=flat-square\n[david-url]: https://david-dm.org/koajs/koa-lusca\n[download-image]: https://img.shields.io/npm/dm/koa-lusca.svg?style=flat-square\n[download-url]: https://npmjs.org/package/koa-lusca\n\nWeb application security middleware for koa.\n\nFork from [lusca](https://github.com/krakenjs/lusca), [krakenjs/lusca#26](https://github.com/krakenjs/lusca/pull/26).\n\n## Usage\n\n```js\nvar koa = require('koa');\nvar lusca = require('koa-lusca');\nvar app = koa();\n\napp.use(lusca({\n  csrf: true,\n  csp: { /* ... */},\n  xframe: 'SAMEORIGIN',\n  p3p: 'ABCDEF',\n  hsts: { maxAge: 31536000, includeSubDomains: true },\n  xssProtection: true\n}));\n```\n\nSetting any value to `false` will disable it. Alternately, you can opt into methods one by one:\n\n```js\napp.use(lusca.csrf());\napp.use(lusca.csp({/* ... */}));\napp.use(lusca.xframe({ value: 'SAMEORIGIN' }));\napp.use(lusca.p3p({ value: 'ABCDEF' }));\napp.use(lusca.hsts({ maxAge: 31536000 });\napp.use(lusca.xssProtection();\n```\n\n## API\n\n### lusca.csrf(options)\n\n* `key` String - Optional. The name of the CSRF token added to the model. Defaults to `_csrf`.\n* `secret` String - Optional. The key to place on the session object which maps to the server side token. Defaults to `_csrfSecret`.\n* `impl` Function - Optional. Custom implementation to generate a token.\n\nEnables [Cross Site Request Forgery](https://www.owasp.org/index.php/Cross-Site_Request_Forgery_\\(CSRF\\)) (CSRF) headers.\n\nIf enabled, the CSRF token must be in the payload when modifying data or you will receive a *403 Forbidden*. To send the token you'll need to echo back the `_csrf` value you received from the previous request.\n\n### lusca.csp(options)\n\n* `options.policy` Object - Object definition of policy.\n* `options.policy` String, Object, or an Array - Object definition of policy. Valid policies examples include:\n    * `{\"default-src\": \"*\"}`\n    * `\"referrer no-referrer\"`\n    * `[{ \"img-src\": \"'self' http:\" }, \"block-all-mixed-content\"]`\n* `options.reportOnly` Boolean - Enable report only mode.\n* `options.reportUri` String - URI where to send the report data\n\nEnables [Content Security Policy](https://www.owasp.org/index.php/Content_Security_Policy) (CSP) headers.\n\n#### Example Options\n\n```js\n// Everything but images can only come from own domain (excluding subdomains)\n{\n  policy: {\n    'default-src': '\\'self\\'',\n    'img-src': '*'\n  }\n}\n```\n\nSee the [MDN CSP usage](https://developer.mozilla.org/en-US/docs/Web/Security/CSP/Using_Content_Security_Policy) page for more information on available policy options.\n\n### lusca.xframe(value)\n\n* `value` String - Required. The value for the header, e.g. DENY, SAMEORIGIN or ALLOW-FROM uri.\n\nEnables X-FRAME-OPTIONS headers to help prevent [Clickjacking](https://www.owasp.org/index.php/Clickjacking).\n\n### lusca.p3p(value)\n\n* `value` String - Required. The compact privacy policy.\n\nEnables [Platform for Privacy Preferences Project](http://support.microsoft.com/kb/290333) (P3P) headers.\n\n### lusca.hsts(options)\n\n* `options.maxAge` Number - Required. Number of seconds HSTS is in effect.\n* `options.includeSubDomains` Boolean - Optional. Applies HSTS to all subdomains of the host\n\nEnables [HTTP Strict Transport Security](https://www.owasp.org/index.php/HTTP_Strict_Transport_Security) for the host domain. The preload flag is required for HSTS domain submissions to [Chrome's HSTS preload list](https://hstspreload.appspot.com)\n\n### lusca.xssProtection(options)\n\n* `options.enabled` Boolean - Optional. If the header is enabled or not (see header docs). Defaults to `1`.\n* `options.mode` String - Optional. Mode to set on the header (see header docs). Defaults to `block`.\n\nEnables [X-XSS-Protection](http://blogs.msdn.com/b/ie/archive/2008/07/02/ie8-security-part-iv-the-xss-filter.aspx) headers to help prevent cross site scripting (XSS) attacks in older IE browsers (IE8)\n\n## License\n\n- Original License: Apache License, Version 2.0, Copyright (C) 2014 eBay Software Foundation\n- Now: [MIT](LICENSE.txt)\n",
    "licenseText": "This software is licensed under the MIT License.\n\nCopyright(c) 2014 - 2015 fengmk2 and other contributors.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n/***@@@ BEGIN LICENSE @@@***/\n/*───────────────────────────────────────────────────────────────────────────*\\\n│  Copyright (C) 2014 eBay Software Foundation                                │\n│                                                                             │\n│hh ,'\"\"`.                                                                    │\n│  / _  _ \\  Licensed under the Apache License, Version 2.0 (the \"License\");  │\n│  |(@)(@)|  you may not use this file except in compliance with the License. │\n│  )  __  (  You may obtain a copy of the License at                          │\n│ /,'))((`.\\                                                                  │\n│(( ((  )) ))    http://www.apache.org/licenses/LICENSE-2.0                   │\n│ `\\ `)(' /'                                                                  │\n│                                                                             │\n│   Unless required by applicable law or agreed to in writing, software       │\n│   distributed under the License is distributed on an \"AS IS\" BASIS,         │\n│   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  │\n│   See the License for the specific language governing permissions and       │\n│   limitations under the License.                                            │\n\\*───────────────────────────────────────────────────────────────────────────*/\n/***@@@ END LICENSE @@@***/\n",
    "license": "Apache*"
  },
  "artifacts": [],
  "remote": {
    "resolved": "https://registry.yarnpkg.com/koa-lusca/-/koa-lusca-2.2.0.tgz#6eb96d3012458c697447f688200976bf49bb9bfc",
    "type": "tarball",
    "reference": "https://registry.yarnpkg.com/koa-lusca/-/koa-lusca-2.2.0.tgz",
    "hash": "6eb96d3012458c697447f688200976bf49bb9bfc",
    "integrity": "sha1-brltMBJFjGl0R/aIIAl2v0m7m/w=",
    "registry": "npm",
    "packageName": "koa-lusca",
    "cacheIntegrity": "sha512-l0SAGrwO1QE5HjFvBJscCEUQKarTNDsaHwg3ABj6k5Wa26oft3f547KsGvsyvnQsezZZbSoZJpJGPnkUMAVTUg== sha1-brltMBJFjGl0R/aIIAl2v0m7m/w="
  },
  "registry": "npm",
  "hash": "6eb96d3012458c697447f688200976bf49bb9bfc"
}